{% extends "base.html" %}

{% block title %}Documentaci√≥n - Dashboard Estad√≠stica{% endblock %}

{% block content %}
<div class="card">
    <div class="card-header">
        <h2>üìö Documentaci√≥n de Algoritmos</h2>
    </div>
    <div class="card-body">
        <p>Documentaci√≥n completa de todos los algoritmos de simulaci√≥n implementados en el dashboard.</p>
        
        <!-- Navegaci√≥n de algoritmos -->
        <div class="tabs">
            <button class="tab active" data-tab="congruenciales">M√©todos Congruenciales</button>
            <button class="tab" data-tab="montecarlo">Monte Carlo</button>
            <button class="tab" data-tab="transformada">Transformada Inversa</button>
            <button class="tab" data-tab="aceptacion">Aceptaci√≥n-Rechazo</button>
        </div>

        <!-- M√©todos Congruenciales -->
        <div id="congruenciales-tab" class="tab-content active">
            <h3>üî¢ M√©todos Congruenciales</h3>
            
            <div class="algorithm-grid">
                <div class="algorithm-card">
                    <h4>Congruencial Lineal</h4>
                    <div class="code-block">
                        <span class="code-keyword">X</span><span class="code-number">‚Çô‚Çä‚ÇÅ</span> = (<span class="code-keyword">a</span> √ó <span class="code-keyword">X‚Çô</span> + <span class="code-keyword">c</span>) <span class="code-keyword">mod</span> <span class="code-keyword">m</span>
                    </div>
                    <div class="algorithm-info">
                        <h5>Par√°metros:</h5>
                        <ul>
                            <li><strong>X‚ÇÄ</strong>: Semilla inicial</li>
                            <li><strong>a</strong>: Multiplicador</li>
                            <li><strong>c</strong>: Incremento</li>
                            <li><strong>m</strong>: M√≥dulo</li>
                        </ul>
                        <h5>Propiedades:</h5>
                        <ul>
                            <li>Per√≠odo m√°ximo: m</li>
                            <li>Distribuci√≥n uniforme [0,1)</li>
                            <li>Recomendado: m primo grande</li>
                        </ul>
                    </div>
                </div>

                <div class="algorithm-card">
                    <h4>Congruencial Multiplicativo</h4>
                    <div class="code-block">
                        <span class="code-keyword">X</span><span class="code-number">‚Çô‚Çä‚ÇÅ</span> = (<span class="code-keyword">a</span> √ó <span class="code-keyword">X‚Çô</span>) <span class="code-keyword">mod</span> <span class="code-keyword">m</span>
                    </div>
                    <div class="algorithm-info">
                        <h5>Par√°metros:</h5>
                        <ul>
                            <li><strong>X‚ÇÄ</strong>: Semilla inicial</li>
                            <li><strong>a</strong>: Multiplicador</li>
                            <li><strong>m</strong>: M√≥dulo</li>
                        </ul>
                        <h5>Propiedades:</h5>
                        <ul>
                            <li>Per√≠odo m√°ximo: m-1</li>
                            <li>No requiere constante c</li>
                            <li>M√°s eficiente que lineal</li>
                        </ul>
                    </div>
                </div>

                <div class="algorithm-card">
                    <h4>Congruencial Cuadr√°tico</h4>
                    <div class="code-block">
                        <span class="code-keyword">X</span><span class="code-number">‚Çô‚Çä‚ÇÅ</span> = (<span class="code-keyword">a</span> √ó <span class="code-keyword">X‚Çô¬≤</span> + <span class="code-keyword">b</span> √ó <span class="code-keyword">X‚Çô</span> + <span class="code-keyword">c</span>) <span class="code-keyword">mod</span> <span class="code-keyword">m</span>
                    </div>
                    <div class="algorithm-info">
                        <h5>Par√°metros:</h5>
                        <ul>
                            <li><strong>X‚ÇÄ</strong>: Semilla inicial</li>
                            <li><strong>a, b, c</strong>: Coeficientes</li>
                            <li><strong>m</strong>: M√≥dulo</li>
                        </ul>
                        <h5>Propiedades:</h5>
                        <ul>
                            <li>Mayor complejidad</li>
                            <li>Mejor distribuci√≥n</li>
                            <li>Per√≠odo variable</li>
                        </ul>
                    </div>
                </div>
            </div>

            <div class="card" style="margin-top: 2rem;">
                <div class="card-header">
                    <h4>Ejemplos de Par√°metros Recomendados</h4>
                </div>
                <div class="card-body">
                    <div class="table-responsive">
                        <table class="table">
                            <thead>
                                <tr>
                                    <th>M√©todo</th>
                                    <th>a</th>
                                    <th>c</th>
                                    <th>m</th>
                                    <th>Per√≠odo</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Lineal (Park-Miller)</td>
                                    <td>16807</td>
                                    <td>0</td>
                                    <td>2¬≥¬π-1</td>
                                    <td>2¬≥¬π-2</td>
                                </tr>
                                <tr>
                                    <td>Multiplicativo</td>
                                    <td>397204094</td>
                                    <td>-</td>
                                    <td>2¬≥¬π-1</td>
                                    <td>2¬≥¬π-2</td>
                                </tr>
                                <tr>
                                    <td>Lineal est√°ndar</td>
                                    <td>1664525</td>
                                    <td>1013904223</td>
                                    <td>2¬≥¬≤</td>
                                    <td>2¬≥¬≤</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>

        <!-- Monte Carlo -->
        <div id="montecarlo-tab" class="tab-content">
            <h3>üé≤ M√©todos de Monte Carlo</h3>
            
            <div class="algorithm-grid">
                <div class="algorithm-card">
                    <h4>Integraci√≥n Num√©rica</h4>
                    <div class="code-block">
                        <span class="code-keyword">I</span> ‚âà (<span class="code-keyword">b</span> - <span class="code-keyword">a</span>) √ó <span class="code-keyword">Œ£</span> <span class="code-keyword">f</span>(<span class="code-keyword">x·µ¢</span>) / <span class="code-keyword">n</span>
                    </div>
                    <div class="algorithm-info">
                        <h5>Aplicaci√≥n:</h5>
                        <ul>
                            <li>C√°lculo de integrales definidas</li>
                            <li>Funciones complejas</li>
                            <li>Dimensiones m√∫ltiples</li>
                        </ul>
                        <h5>Ventajas:</h5>
                        <ul>
                            <li>Independiente de la dimensi√≥n</li>
                            <li>F√°cil implementaci√≥n</li>
                            <li>Error ~ 1/‚àön</li>
                        </ul>
                    </div>
                </div>

                <div class="algorithm-card">
                    <h4>Estimaci√≥n de œÄ</h4>
                    <div class="code-block">
                        <span class="code-keyword">œÄ</span> ‚âà <span class="code-number">4</span> √ó <span class="code-keyword">n_dentro</span> / <span class="code-keyword">n_total</span>
                    </div>
                    <div class="algorithm-info">
                        <h5>Procedimiento:</h5>
                        <ul>
                            <li>Generar puntos en [-1,1]√ó[-1,1]</li>
                            <li>Contar puntos dentro del c√≠rculo</li>
                            <li>Calcular proporci√≥n</li>
                        </ul>
                        <h5>Precisi√≥n:</h5>
                        <ul>
                            <li>Error absoluto: O(1/‚àön)</li>
                            <li>Convergencia lenta</li>
                            <li>F√°cil de visualizar</li>
                        </ul>
                    </div>
                </div>

                <div class="algorithm-card">
                    <h4>Simulaci√≥n de Procesos</h4>
                    <div class="code-block">
                        <span class="code-keyword">E</span>[<span class="code-keyword">X</span>] ‚âà <span class="code-keyword">Œ£</span> <span class="code-keyword">X·µ¢</span> / <span class="code-keyword">n</span>
                    </div>
                    <div class="algorithm-info">
                        <h5>Aplicaciones:</h5>
                        <ul>
                            <li>Gesti√≥n de inventarios</li>
                            <li>Teor√≠a de colas</li>
                            <li>Simulaci√≥n financiera</li>
                        </ul>
                        <h5>Caracter√≠sticas:</h5>
                        <ul>
                            <li>Modelado estoc√°stico</li>
                            <li>An√°lisis de riesgos</li>
                            <li>Optimizaci√≥n</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <!-- Transformada Inversa -->
        <div id="transformada-tab" class="tab-content">
            <h3>üîÑ M√©todo de Transformada Inversa</h3>
            
            <div class="algorithm-description">
                <p>M√©todo para generar variables aleatorias de distribuciones continuas usando la funci√≥n de distribuci√≥n acumulada inversa.</p>
                
                <div class="code-block">
                    <span class="code-comment"># Algoritmo general</span><br>
                    <span class="code-number">1</span>. Generar <span class="code-keyword">U</span> ~ Uniforme(<span class="code-number">0</span>,<span class="code-number">1</span>)<br>
                    <span class="code-number">2</span>. Calcular <span class="code-keyword">X</span> = <span class="code-keyword">F‚Åª¬π</span>(<span class="code-keyword">U</span>)<br>
                    <span class="code-number">3</span>. Retornar <span class="code-keyword">X</span>
                </div>
            </div>

            <div class="algorithm-grid">
                <div class="algorithm-card">
                    <h4>Distribuci√≥n Exponencial</h4>
                    <div class="code-block">
                        <span class="code-keyword">X</span> = -<span class="code-keyword">ln</span>(<span class="code-number">1</span> - <span class="code-keyword">U</span>) / <span class="code-keyword">Œª</span>
                    </div>
                    <div class="algorithm-info">
                        <h5>Par√°metros:</h5>
                        <ul>
                            <li><strong>Œª</strong>: Tasa</li>
                        </ul>
                        <h5>Propiedades:</h5>
                        <ul>
                            <li>Media: 1/Œª</li>
                            <li>Varianza: 1/Œª¬≤</li>
                            <li>Sin memoria</li>
                        </ul>
                    </div>
                </div>

                <div class="algorithm-card">
                    <h4>Distribuci√≥n Uniforme</h4>
                    <div class="code-block">
                        <span class="code-keyword">X</span> = <span class="code-keyword">a</span> + (<span class="code-keyword">b</span> - <span class="code-keyword">a</span>) √ó <span class="code-keyword">U</span>
                    </div>
                    <div class="algorithm-info">
                        <h5>Par√°metros:</h5>
                        <ul>
                            <li><strong>a</strong>: L√≠mite inferior</li>
                            <li><strong>b</strong>: L√≠mite superior</li>
                        </ul>
                        <h5>Propiedades:</h5>
                        <ul>
                            <li>Media: (a+b)/2</li>
                            <li>Varianza: (b-a)¬≤/12</li>
                        </ul>
                    </div>
                </div>

                <div class="algorithm-card">
                    <h4>Distribuci√≥n Weibull</h4>
                    <div class="code-block">
                        <span class="code-keyword">X</span> = <span class="code-keyword">Œª</span> √ó (-<span class="code-keyword">ln</span>(<span class="code-number">1</span> - <span class="code-keyword">U</span>))¬π/·µè
                    </div>
                    <div class="algorithm-info">
                        <h5>Par√°metros:</h5>
                        <ul>
                            <li><strong>k</strong>: Par√°metro forma</li>
                            <li><strong>Œª</strong>: Par√°metro escala</li>
                        </ul>
                        <h5>Aplicaciones:</h5>
                        <ul>
                            <li>An√°lisis de fallos</li>
                            <li>Fiabilidad</li>
                            <li>Distribuci√≥n de vida</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <!-- Aceptaci√≥n-Rechazo -->
        <div id="aceptacion-tab" class="tab-content">
            <h3>üéØ M√©todo de Aceptaci√≥n y Rechazo</h3>
            
            <div class="algorithm-description">
                <p>M√©todo para generar variables aleatorias cuando la transformada inversa no es aplicable o es complicada.</p>
                
                <div class="code-block">
                    <span class="code-comment"># Algoritmo general</span><br>
                    <span class="code-keyword">repeat</span><br>
                    &nbsp;&nbsp;&nbsp;&nbsp;Generar <span class="code-keyword">Y</span> ~ <span class="code-keyword">g</span>(<span class="code-keyword">y</span>)<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;Generar <span class="code-keyword">U</span> ~ Uniforme(<span class="code-number">0</span>,<span class="code-number">1</span>)<br>
                    <span class="code-keyword">until</span> <span class="code-keyword">U</span> ‚â§ <span class="code-keyword">f</span>(<span class="code-keyword">Y</span>) / (<span class="code-keyword">c</span> √ó <span class="code-keyword">g</span>(<span class="code-keyword">Y</span>))<br>
                    <span class="code-keyword">return</span> <span class="code-keyword">Y</span>
                </div>
            </div>

            <div class="algorithm-info">
                <h5>Condiciones:</h5>
                <ul>
                    <li><strong>f(x)</strong>: Funci√≥n densidad objetivo</li>
                    <li><strong>g(x)</strong>: Funci√≥n densidad auxiliar</li>
                    <li><strong>c</strong>: Constante tal que f(x) ‚â§ c¬∑g(x)</li>
                </ul>

                <h5>Eficiencia:</h5>
                <ul>
                    <li>Tasa de aceptaci√≥n: 1/c</li>
                    <li>N√∫mero esperado de intentos: c</li>
                    <li>Optimal cuando c ‚âà 1</li>
                </ul>
            </div>

            <div class="card" style="margin-top: 2rem;">
                <div class="card-header">
                    <h4>Ejemplos Comunes</h4>
                </div>
                <div class="card-body">
                    <div class="table-responsive">
                        <table class="table">
                            <thead>
                                <tr>
                                    <th>Distribuci√≥n Objetivo</th>
                                    <th>Distribuci√≥n Auxiliar</th>
                                    <th>Constante c</th>
                                    <th>Eficiencia</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Normal(0,1)</td>
                                    <td>Uniforme(-3,3)</td>
                                    <td>‚âà 2.5</td>
                                    <td>40%</td>
                                </tr>
                                <tr>
                                    <td>Beta(2,5)</td>
                                    <td>Uniforme(0,1)</td>
                                    <td>‚âà 2.5</td>
                                    <td>40%</td>
                                </tr>
                                <tr>
                                    <td>Gamma(2,1)</td>
                                    <td>Exponencial(1)</td>
                                    <td>‚âà 1.5</td>
                                    <td>67%</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Referencias -->
<div class="card">
    <div class="card-header">
        <h3>üìñ Referencias Bibliogr√°ficas</h3>
    </div>
    <div class="card-body">
        <ul>
            <li>Ross, S. M. (2019). Simulation (6th ed.). Academic Press.</li>
            <li>Law, A. M. (2015). Simulation Modeling and Analysis (5th ed.). McGraw-Hill.</li>
            <li>Banks, J., Carson, J. S., Nelson, B. L., & Nicol, D. M. (2014). Discrete-Event System Simulation (5th ed.). Pearson.</li>
            <li>Rubinstein, R. Y., & Kroese, D. P. (2016). Simulation and the Monte Carlo Method (3rd ed.). Wiley.</li>
        </ul>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script>
// Inicializar tabs
document.addEventListener('DOMContentLoaded', function() {
    if (window.dashboard) {
        const tabs = document.querySelectorAll('.tab');
        tabs.forEach(tab => {
            tab.addEventListener('click', function() {
                const tabName = this.dataset.tab;
                window.dashboard.switchTab(tabName);
            });
        });
    }
});
</script>

<style>
.algorithm-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
    gap: 1.5rem;
    margin: 2rem 0;
}

.algorithm-card {
    background: var(--bg-color);
    border: 1px solid var(--border-color);
    border-radius: var(--border-radius);
    padding: 1.5rem;
    box-shadow: var(--shadow);
}

.algorithm-card h4 {
    color: var(--primary-color);
    margin-bottom: 1rem;
    border-bottom: 2px solid var(--secondary-color);
    padding-bottom: 0.5rem;
}

.algorithm-info h5 {
    color: var(--primary-color);
    margin: 1rem 0 0.5rem 0;
}

.algorithm-info ul {
    margin: 0;
    padding-left: 1.5rem;
}

.algorithm-info li {
    margin-bottom: 0.25rem;
}

.algorithm-description {
    background: var(--light-color);
    padding: 1.5rem;
    border-radius: var(--border-radius);
    margin: 1.5rem 0;
    border-left: 4px solid var(--info-color);
}

.table-responsive {
    overflow-x: auto;
}

.table {
    width: 100%;
    margin: 1rem 0;
}

.table th {
    background-color: var(--primary-color);
    color: white;
    font-weight: 600;
}

.table td, .table th {
    padding: 0.75rem;
    text-align: left;
    border-bottom: 1px solid var(--border-color);
}

.table tbody tr:hover {
    background-color: rgba(0, 0, 0, 0.02);
}
</style>
{% endblock %}